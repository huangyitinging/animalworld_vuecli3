{"version":3,"sources":["webpack:///./src/views/Checkout.vue?8882","webpack:///./src/views/Checkout.vue?fe8d","webpack:///src/views/Checkout.vue","webpack:///./src/views/Checkout.vue?39ed","webpack:///./src/views/Checkout.vue","webpack:///./node_modules/core-js/internals/create-property.js","webpack:///./node_modules/core-js/modules/es.array.concat.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isLoading","on","$event","_m","staticStyle","_l","cart","item","key","id","style","backgroundImage","product","_v","_s","title","qty","unit","_f","final_total","preventDefault","createOrder","directives","name","rawName","value","form","user","expression","class","errors","has","domProps","target","composing","$set","_e","first","staticRenderFns","data","products","status","oadingItem","email","tel","address","message","carts","coupon_code","methods","getCart","vm","$http","get","url","then","response","console","log","$validator","validate","result","success","$bus","$emit","$router","push","created","component","toPrimitive","definePropertyModule","createPropertyDescriptor","module","exports","object","propertyKey","f","$","fails","isArray","isObject","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","undefined","FORCED","proto","forced","arg","i","k","length","len","E","A","n","arguments","TypeError"],"mappings":"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","file":"js/chunk-2b27de37.38a428be.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkout.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkout.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('div',{staticClass:\"my-5 row justify-content-center\"},[_c('div',{staticClass:\"col-9\"},[_vm._m(0),_c('div',{attrs:{\"id\":\"accordionExample\"}},[_c('div',{staticClass:\"card\"},[_vm._m(1),_c('div',{staticClass:\"collapse show\",attrs:{\"id\":\"collapseOne\",\"aria-labelledby\":\"headingOne\",\"data-parent\":\"#accordionExample\"}},[_c('div',{staticClass:\"card-body\"},[_c('table',{staticClass:\"table\",staticStyle:{\"font-size\":\"1rem\"}},[_vm._m(2),_c('tbody',_vm._l((_vm.cart.carts),function(item){return _c('tr',{key:item.id},[_c('td',{staticClass:\"table-img\"},[_c('div',{staticStyle:{\"width\":\"60%\",\"background-size\":\"cover\",\"background-position\":\"center\",\"padding-bottom\":\"40%\"},style:({backgroundImage:(\"url(\" + (item.product.imageUrl) + \")\")})})]),_c('td',{staticClass:\"align-middle\"},[_c('span',[_vm._v(_vm._s(item.product.title))])]),_c('td',{staticClass:\"align-middle\"},[_vm._v(_vm._s(item.qty)+\" / \"+_vm._s(item.product.unit))]),_c('td',{staticClass:\"align-middle text-right\"},[_c('div',[_vm._v(_vm._s(_vm._f(\"currency\")(item.final_total)))])])])}),0),_c('tfoot',{staticClass:\"bg-gray\"},[_c('tr',[_c('td',{staticClass:\"text-right text-danger\",attrs:{\"colspan\":\"3\"}},[_vm._v(\"總計\")]),_c('td',{staticClass:\"text-right text-danger\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.cart.final_total)))])])])])])])])]),_c('div',{staticClass:\"h3 text-center text-muted my-4\"},[_vm._v(\"訂購資料\")]),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.createOrder($event)}}},[_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"form-group col-md-6\"},[_c('label',{attrs:{\"for\":\"username\"}},[_vm._v(\"姓名\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.name),expression:\"form.user.name\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",class:{'is-invalid':_vm.errors.has('name')},attrs:{\"type\":\"text\",\"name\":\"name\",\"id\":\"username\",\"placeholder\":\"請輸入姓名\"},domProps:{\"value\":(_vm.form.user.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"name\", $event.target.value)}}}),(_vm.errors.has('name'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"姓名輸入錯誤\")]):_vm._e()]),_c('div',{staticClass:\"form-group col-md-6\"},[_c('label',{attrs:{\"for\":\"usertel\"}},[_vm._v(\"電話\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.tel),expression:\"form.user.tel\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",class:{'is-invalid':_vm.errors.has('usertel')},attrs:{\"type\":\"tel\",\"name\":\"usertel\",\"id\":\"usertel\",\"placeholder\":\"請輸入電話\"},domProps:{\"value\":(_vm.form.user.tel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"tel\", $event.target.value)}}}),(_vm.errors.has('usertel'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"電話輸入錯誤\")]):_vm._e()])]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"useremail\"}},[_vm._v(\"信箱\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.email),expression:\"form.user.email\"},{name:\"validate\",rawName:\"v-validate\",value:('required|email'),expression:\"'required|email'\"}],staticClass:\"form-control\",class:{'is-invalid':_vm.errors.has('email')},attrs:{\"type\":\"email\",\"name\":\"email\",\"id\":\"useremail\",\"placeholder\":\"請輸入 Email\"},domProps:{\"value\":(_vm.form.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"email\", $event.target.value)}}}),(_vm.errors.has('email'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(\" \"+_vm._s(_vm.errors.first('email'))+\" \")]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"useraddress\"}},[_vm._v(\"地址\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.address),expression:\"form.user.address\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",class:{'is-invalid':_vm.errors.has('address')},attrs:{\"type\":\"text\",\"name\":\"address\",\"id\":\"useraddress\",\"placeholder\":\"請輸入地址\"},domProps:{\"value\":(_vm.form.user.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"address\", $event.target.value)}}}),(_vm.errors.has('address'))?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"地址欄位不得留空\")]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"comment\"}},[_vm._v(\"備註(選填)\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.message),expression:\"form.message\"}],staticClass:\"form-control\",attrs:{\"name\":\"\",\"id\":\"comment\",\"cols\":\"20\",\"rows\":\"5\"},domProps:{\"value\":(_vm.form.message)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"message\", $event.target.value)}}})]),_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"mr-auto\"},[_c('router-link',{staticClass:\"btn btn-outline-secondary text-primary\",attrs:{\"to\":\"/shoppingcart\"}},[_c('i',{staticClass:\"fas fa-arrow-left mr-2\"}),_vm._v(\"回上一頁 \")])],1),_vm._m(3)])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex justify-content-center mb-5\"},[_c('div',{staticClass:\"bg-gray progress-list d-md-block d-none\"},[_c('div',[_c('i',{staticClass:\"fas fa-cart-plus fa-3x text-muted\"})]),_c('div',{staticClass:\"text-muted h5 mt-2\"},[_vm._v(\"1.確認清單\")])]),_c('div',{staticClass:\"bg-success progress-list\"},[_c('div',[_c('i',{staticClass:\"far fa-credit-card fa-3x text-white\"})]),_c('div',{staticClass:\"text-white h5 mt-2\"},[_vm._v(\"2.填寫訂購資料\")])]),_c('div',{staticClass:\"bg-gray progress-list d-md-block d-none\"},[_c('div',[_c('i',{staticClass:\"fas fa-list-alt fa-3x text-muted\"})]),_c('div',{staticClass:\"text-muted h5 mt-2\"},[_vm._v(\"3.完成訂單\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header\",attrs:{\"id\":\"headingOne\"}},[_c('h2',{staticClass:\"mb-0\"},[_c('button',{staticClass:\"btn btn-link\",attrs:{\"type\":\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#collapseOne\",\"aria-expanded\":\"false\",\"aria-controls\":\"collapseOne\"}},[_vm._v(\" 購物車清單 \")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{staticClass:\"d-md-table-cell\",attrs:{\"width\":\"20%\"}}),_c('th',[_vm._v(\"商品名稱\")]),_c('th',{attrs:{\"width\":\"20%\"}},[_vm._v(\"數量\")]),_c('th',{attrs:{\"width\":\"15%\"}},[_vm._v(\"小計\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('button',{staticClass:\"btn btn-primary text-white\"},[_vm._v(\"送出訂單 \"),_c('i',{staticClass:\"fas fa-arrow-right ml-2\"})])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\">\n    <loading :active.sync=\"isLoading\"></loading>\n      <div class=\"my-5 row justify-content-center\">\n        <div class=\"col-9\">\n          <div class=\"d-flex justify-content-center mb-5\">\n            <div class=\"bg-gray progress-list d-md-block d-none\">\n              <div><i class=\"fas fa-cart-plus fa-3x text-muted\"></i></div>\n              <div class=\"text-muted h5 mt-2\">1.確認清單</div>\n            </div>\n            <div class=\"bg-success progress-list\">\n              <div><i class=\"far fa-credit-card fa-3x text-white\"></i></div>\n              <div class=\"text-white h5 mt-2\">2.填寫訂購資料</div>\n            </div>\n            <div class=\"bg-gray progress-list d-md-block d-none\">\n              <div><i class=\"fas fa-list-alt fa-3x text-muted\"></i></div>\n              <div class=\"text-muted h5 mt-2\">3.完成訂單</div>\n            </div>\n          </div>\n          <div id=\"accordionExample\">\n            <div class=\"card\">\n              <div class=\"card-header\" id=\"headingOne\">\n                <h2 class=\"mb-0\">\n                  <button class=\"btn btn-link\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseOne\" aria-expanded=\"false\" aria-controls=\"collapseOne\">\n                  購物車清單\n                  </button>\n                </h2>\n              </div>\n              <div id=\"collapseOne\" class=\"collapse show\" aria-labelledby=\"headingOne\" data-parent=\"#accordionExample\">\n                <div class=\"card-body\">\n                  <table class=\"table\" style=\"font-size:1rem\">\n                    <thead>\n                      <tr>\n                        <th width=\"20%\" class=\"d-md-table-cell\"></th>\n                        <th>商品名稱</th>\n                        <th width=\"20%\">數量</th>\n                        <th width=\"15%\">小計</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      <tr v-for=\"item in cart.carts\" :key=\"item.id\">\n                        <td class=\"table-img\">\n                          <div style=\"width:60%; background-size: cover; background-position: center;padding-bottom:40%\"\n                          :style=\"{backgroundImage:`url(${item.product.imageUrl})`}\">\n                          </div>\n                        </td>\n                        <td class=\"align-middle\">\n                          <span>{{item.product.title}}</span>\n                        </td>\n                        <td class=\"align-middle\">{{item.qty}} / {{item.product.unit}}</td>\n                        <td class=\"align-middle text-right\">\n                          <div>{{item.final_total | currency}}</div>\n                        </td>\n                      </tr>\n                    </tbody>\n                    <tfoot class=\"bg-gray\">\n                      <tr>\n                        <td colspan=\"3\" class=\"text-right text-danger\">總計</td>\n                        <td class=\"text-right text-danger\">{{cart.final_total | currency}}</td>\n                      </tr>\n                    </tfoot>\n                  </table>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"h3 text-center text-muted my-4\">訂購資料</div>\n          <form @submit.prevent=\"createOrder\">\n            <div class=\"form-row\">\n              <div class=\"form-group col-md-6\">\n                <label for=\"username\">姓名</label>\n                <input type=\"text\" class=\"form-control\" name=\"name\" id=\"username\"\n                :class=\"{'is-invalid':errors.has('name')}\"\n                v-model=\"form.user.name\" v-validate=\"'required'\" placeholder=\"請輸入姓名\">\n                <span class=\"text-danger\" v-if=\"errors.has('name')\">姓名輸入錯誤</span>\n              </div>\n              <div class=\"form-group col-md-6\">\n                <label for=\"usertel\">電話</label>\n                <input type=\"tel\" class=\"form-control\" name=\"usertel\" id=\"usertel\"\n                :class=\"{'is-invalid':errors.has('usertel')}\"\n                v-model=\"form.user.tel\" v-validate=\"'required'\" placeholder=\"請輸入電話\">\n                <span class=\"text-danger\" v-if=\"errors.has('usertel')\">電話輸入錯誤</span>\n              </div>\n            </div>\n            <div class=\"form-group\">\n              <label for=\"useremail\">信箱</label>\n              <input type=\"email\" class=\"form-control\" name=\"email\" id=\"useremail\"\n              :class=\"{'is-invalid':errors.has('email')}\"\n              v-model=\"form.user.email\" v-validate=\"'required|email'\" placeholder=\"請輸入 Email\">\n              <span class=\"text-danger\" v-if=\"errors.has('email')\">\n              {{errors.first('email')}}\n              </span>\n            </div>\n            <div class=\"form-group\">\n              <label for=\"useraddress\">地址</label>\n              <input type=\"text\" class=\"form-control\" name=\"address\" id=\"useraddress\"\n              :class=\"{'is-invalid':errors.has('address')}\"\n              v-model=\"form.user.address\" v-validate=\"'required'\" placeholder=\"請輸入地址\">\n              <span class=\"text-danger\" v-if=\"errors.has('address')\">地址欄位不得留空</span>\n            </div>\n            <div class=\"form-group\">\n              <label for=\"comment\">備註(選填)</label>\n              <textarea name=\"\" id=\"comment\" class=\"form-control\" cols=\"20\" rows=\"5\" v-model=\"form.message\"></textarea>\n            </div>\n            <div class=\"d-flex\">\n              <div class=\"mr-auto\">\n                <router-link class=\"btn btn-outline-secondary text-primary\" to=\"/shoppingcart\">\n                  <i class=\"fas fa-arrow-left mr-2\"></i>回上一頁\n                </router-link>\n              </div>\n              <div>\n                <button class=\"btn btn-primary text-white\">送出訂單\n                  <i class=\"fas fa-arrow-right ml-2\"></i>\n                </button>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      products: [],\n      product: {}, // 儲放Ｍodal的資料\n      status: {\n        oadingItem: ''\n      },\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: ''\n        },\n        message: ''\n      },\n      cart: {\n        carts: []\n      },\n      isLoading: false,\n      coupon_code: ''\n    }\n  },\n  methods: {\n    getCart () {\n      const vm = this\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart`\n      vm.isLoading = true\n      this.$http.get(url).then((response) => {\n        vm.cart = response.data.data\n        console.log(response.data)\n        vm.isLoading = false\n      })\n    },\n    createOrder () {\n      const vm = this\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/order`\n      // const order = vm.form\n      // vm.isLoading = true\n      this.$validator.validate().then((result) => {\n        if (result) {\n          this.$http.post(url, { data: vm.form }).then((response) => {\n            console.log('訂單已建立', response)\n            if (response.data.success) {\n              vm.$bus.$emit('updateCart')\n              vm.$bus.$emit('message:push', response.data.message, 'warning')\n              vm.$router.push(`/order/${response.data.orderId}`)\n            }\n            // vm.getCart()\n            vm.isLoading = false\n          })\n        } else {\n          vm.$bus.$emit('updateCart')\n          vm.$bus.$emit('message:push', '欄位不完整', 'danger')\n        }\n      })\n    }\n  },\n  created () {\n    this.getCart()\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.progress-list{\n    text-align: center;\n    width: 100%;\n    padding:30px 10px;\n}\n@media (min-width: 768px) {\n    .progress-list{\n    text-align: center;\n    width: 30%;\n    border-left: 5px solid #fff;\n}\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Checkout.vue?vue&type=template&id=1a18aaa6&\"\nimport script from \"./Checkout.vue?vue&type=script&lang=js&\"\nexport * from \"./Checkout.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Checkout.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n"],"sourceRoot":""}