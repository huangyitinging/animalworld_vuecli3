(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b07d7fc"],{8418:function(t,a,e){"use strict";var c=e("c04e"),o=e("9bf2"),i=e("5c6c");t.exports=function(t,a,e){var r=c(a);r in t?o.f(t,r,i(0,e)):t[r]=e}},"99af":function(t,a,e){"use strict";var c=e("23e7"),o=e("d039"),i=e("e8b5"),r=e("861d"),s=e("7b0b"),n=e("50c4"),d=e("8418"),u=e("65f0"),p=e("1dde"),l=e("b622"),v=e("60ae"),f=l("isConcatSpreadable"),g=9007199254740991,h="Maximum allowed index exceeded",_=v>=51||!o((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),m=p("concat"),b=function(t){if(!r(t))return!1;var a=t[f];return void 0!==a?!!a:i(t)},C=!_||!m;c({target:"Array",proto:!0,forced:C},{concat:function(t){var a,e,c,o,i,r=s(this),p=u(r,0),l=0;for(a=-1,c=arguments.length;a<c;a++)if(i=-1===a?r:arguments[a],b(i)){if(o=n(i.length),l+o>g)throw TypeError(h);for(e=0;e<o;e++,l++)e in i&&d(p,l,i[e])}else{if(l>=g)throw TypeError(h);d(p,l++,i)}return p.length=l,p}})},bd21:function(t,a,e){"use strict";var c=e("cd3a"),o=e.n(c);o.a},cd3a:function(t,a,e){},d2f1:function(t,a,e){"use strict";e.r(a);var c=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("div",[e("div",{staticClass:"container my-5 mb-8"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"product-wrap"},[e("div",{staticClass:"product-img border",style:{backgroundImage:"url("+t.product.imageUrl+")"}})])]),e("div",{staticClass:"col-lg-6"},[e("span",{staticClass:"badge badge-secondary h5"},[t._v(t._s(t.product.category))]),e("h1",{staticClass:"h3 text-dark"},[t._v(t._s(t.product.title))]),e("p",[t._v(t._s(t.product.description))]),e("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[t.product.price?t._e():e("div",{staticClass:"h5"},[t._v(t._s(t._f("currency")(t.product.origin_price)))]),t.product.price?e("div",{staticClass:"h6 origin-price"},[t._v("原價"+t._s(t._f("currency")(t.product.origin_price)))]):t._e(),t.product.price?e("div",{staticClass:"h4 text-danger"},[t._v(t._s(t._f("currency")(t.product.price)))]):t._e()]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.product.num,expression:"product.num"}],staticClass:"custom-select my-3",attrs:{name:""},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.product,"num",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"0",disabled:"",selected:""}},[t._v("請選擇數量")]),t._l(10,(function(a){return e("option",{key:a,domProps:{value:a}},[t._v(" 選購 "+t._s(a)+" "+t._s(t.product.unit)+" ")])}))],2),e("button",{staticClass:"btn btn-block btn-success py-2",attrs:{type:"button"},on:{click:function(a){return t.addtoCart(t.product.id,t.product.num)}}},[t.product.id===t.status.loadingItem?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v(" 加入購物車")]),e("div",[e("p",{staticClass:"h5 mt-3"},[t._v("【產品說明】")]),e("p",[t._v(t._s(t.product.content))])]),e("div",{staticClass:"border-top mt-3"},[e("p",{staticClass:"h5 mt-3"},[t._v("【優惠活動】")]),e("router-link",{attrs:{to:"/coupon"}},[t._v("現在填寫汪喵 Q&A 即可獲得折扣碼")])],1)])])])])],1)},o=[],i=(e("99af"),{data:function(){return{productID:"",product:{},status:{loadingItem:""},isLoading:!1,cart:{}}},methods:{getProduct:function(t){var a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("hexschooleating","/product/").concat(t);a.isLoading=!0,this.$http.get(e).then((function(t){a.product=t.data.product,console.log(t.data),a.$set(a.product,"num",1),a.isLoading=!1}))},addtoCart:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=this,o="".concat("https://vue-course-api.hexschool.io","/api/").concat("hexschooleating","/cart"),i={product_id:t,qty:e};c.isLoading=!0,this.$http.post(o,{data:i}).then((function(t){console.log(t.data),c.$bus.$emit("updateCart"),a.$bus.$emit("message:push",t.data.message,"warning"),c.isLoading=!1}))}},created:function(){var t=this;t.productID=t.$route.params.id,t.getProduct(t.productID)}}),r=i,s=(e("bd21"),e("2877")),n=Object(s["a"])(r,c,o,!1,null,null,null);a["default"]=n.exports}}]);
//# sourceMappingURL=chunk-5b07d7fc.6b0a0f81.js.map