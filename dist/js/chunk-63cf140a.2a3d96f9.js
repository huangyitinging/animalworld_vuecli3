(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-63cf140a"],{1722:function(t,a,s){"use strict";var e=s("bb52"),i=s.n(e);i.a},"1fc3":function(t,a,s){"use strict";var e=s("ec80"),i=s.n(e);i.a},8418:function(t,a,s){"use strict";var e=s("c04e"),i=s("9bf2"),c=s("5c6c");t.exports=function(t,a,s){var n=e(a);n in t?i.f(t,n,c(0,s)):t[n]=s}},"8c6e":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),s("div",{staticClass:"container my-5 justify-content-center"},[s("div",{staticClass:"my-5 row justify-content-center"},[s("div",{staticClass:"col-9"},[0!=t.cart.carts.length?s("div",{staticClass:"d-flex justify-content-center mb-5"},[t._m(0),t._m(1),t._m(2)]):t._e(),s("div",{staticClass:"h2 text-center text-muted mb-4"},[t._v("購物車清單")]),0!=t.cart.carts.length?s("div",[s("table",{staticClass:"table my-4",staticStyle:{"font-size":"1rem"}},[t._m(3),s("tbody",t._l(t.cart.carts,(function(a){return s("tr",{key:a.id},[s("td",{staticClass:"table-img"},[s("div",{staticStyle:{width:"100%","background-size":"cover","background-position":"center","padding-bottom":"100%"},style:{backgroundImage:"url("+a.product.imageUrl+")"}})]),s("td",{staticClass:"align-middle"},[s("span",[t._v(t._s(a.product.title))]),a.coupon?s("div",{staticClass:"text-danger",staticStyle:{"font-size":"0.8rem"}},[t._v(" 已套用優惠券 ")]):t._e()]),s("td",{staticClass:"align-middle"},[t._v(t._s(a.qty)+" / "+t._s(a.product.unit))]),s("td",{staticClass:"align-middle text-right"},[s("div",[t._v(t._s(t._f("currency")(a.final_total)))])]),s("td",{staticClass:"align-middle text-center"},[s("a",{staticClass:"text-muted",attrs:{href:"#"},on:{click:function(s){return t.removeCartItem(a.id)}}},[s("i",{staticClass:"far fa-trash-alt"})])])])})),0),s("tfoot",{staticClass:"bg-gray"},[s("tr",[s("td",{staticClass:"text-right",attrs:{colspan:"4"}},[t._v("總計")]),s("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.cart.total)))])]),t.cart.final_total!==t.cart.total?s("tr",[s("td",{staticClass:"text-right text-danger border-top-0",attrs:{colspan:"4"}},[t._v("折扣價")]),s("td",{staticClass:"text-right text-danger border-top-0"},[t._v(t._s(t._f("currency")(t.cart.final_total)))])]):t._e()])]),s("div",{staticClass:"h6 text-muted"},[s("router-link",{staticClass:"text-muted",attrs:{to:"/coupon"}},[t._v("還沒拿到折扣碼？手刀領取 go go")])],1),s("div",{staticClass:"input-group mb-5 input-group-md"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入折扣碼"},domProps:{value:t.coupon_code},on:{input:function(a){a.target.composing||(t.coupon_code=a.target.value)}}}),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:t.addCouponCode}},[t._v(" 使用折扣碼 ")])])]),s("div",{staticClass:"d-flex"},[s("div",{staticClass:"mr-auto"},[s("router-link",{staticClass:"btn btn-secondary",attrs:{to:"/petproduct"}},[s("i",{staticClass:"fas fa-arrow-left mr-2"}),t._v("繼續購物 ")])],1),s("div",[s("router-link",{staticClass:"btn btn-primary text-white",attrs:{to:"/checkout"}},[t._v("填寫資訊 "),s("i",{staticClass:"fas fa-arrow-right ml-2"})])],1)])]):t._e(),0==t.cart.carts.length?s("div",{staticClass:"text-center"},[s("p",[t._v("目前沒有商品喔！")]),s("div",{staticClass:"mb-8"},[s("router-link",{staticClass:"btn btn-primary text-white",attrs:{to:"petproduct"}},[t._v("繼續逛逛")])],1),s("Animated")],1):t._e()])])])],1)},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"bg-success progress-list"},[s("div",[s("i",{staticClass:"fas fa-cart-plus fa-3x text-white"})]),s("div",{staticClass:"text-white h5 mt-2"},[t._v("1.確認清單")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"bg-gray progress-list d-md-block d-none"},[s("div",[s("i",{staticClass:"far fa-credit-card fa-3x text-muted"})]),s("div",{staticClass:"text-muted h5 mt-2"},[t._v("2.填寫訂購資料")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"bg-gray progress-list d-md-block d-none"},[s("div",[s("i",{staticClass:"fas fa-list-alt fa-3x text-muted"})]),s("div",{staticClass:"text-muted h5 mt-2"},[t._v("3.完成訂單")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",[s("tr",[s("th",{staticClass:"d-md-table-cell",attrs:{width:"20%"}}),s("th",[t._v("商品名稱")]),s("th",{attrs:{width:"20%"}},[t._v("數量")]),s("th",{attrs:{width:"15%"}},[t._v("小計")]),s("th",{staticStyle:{"text-align":"center"},attrs:{width:"15%"}},[t._v("刪除")])])])}],c=(s("99af"),function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)}),n=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"animated"},[s("div",{staticClass:"dino"}),s("div",{staticClass:"eye"}),s("div",{staticClass:"mouth"}),s("div",{staticClass:"ground"}),s("div",{staticClass:"cart"},[s("i",{staticClass:"fas fa-shopping-cart fa-9x"})])])}],r=(s("1722"),s("2877")),o={},d=Object(r["a"])(o,c,n,!1,null,null,null),l=d.exports,u={data:function(){return{status:{loadingItem:""},isLoading:!1,cart:{carts:[]},coupon_code:""}},methods:{getCart:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("hexschooleating","/cart");t.isLoading=!0,this.$http.get(a).then((function(a){t.cart=a.data.data,console.log(a.data),t.isLoading=!1}))},removeCartItem:function(t){var a=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("hexschooleating","/cart/").concat(t);a.isLoading=!0,this.$http.delete(s).then((function(t){a.$bus.$emit("updateCart"),a.$bus.$emit("message:push",t.data.message,"danger"),a.isLoading=!1,a.getCart()}))},addCouponCode:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("hexschooleating","/coupon"),s={code:t.coupon_code};t.isLoading=!0,this.$http.post(a,{data:s}).then((function(a){t.getCart(),t.$bus.$emit("message:push",a.data.message,"warning"),t.isLoading=!1}))}},created:function(){this.getCart()},components:{Animated:l}},f=u,v=(s("1fc3"),Object(r["a"])(f,e,i,!1,null,"110229c3",null));a["default"]=v.exports},"99af":function(t,a,s){"use strict";var e=s("23e7"),i=s("d039"),c=s("e8b5"),n=s("861d"),r=s("7b0b"),o=s("50c4"),d=s("8418"),l=s("65f0"),u=s("1dde"),f=s("b622"),v=s("60ae"),h=f("isConcatSpreadable"),p=9007199254740991,m="Maximum allowed index exceeded",g=v>=51||!i((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),_=u("concat"),C=function(t){if(!n(t))return!1;var a=t[h];return void 0!==a?!!a:c(t)},b=!g||!_;e({target:"Array",proto:!0,forced:b},{concat:function(t){var a,s,e,i,c,n=r(this),u=l(n,0),f=0;for(a=-1,e=arguments.length;a<e;a++)if(c=-1===a?n:arguments[a],C(c)){if(i=o(c.length),f+i>p)throw TypeError(m);for(s=0;s<i;s++,f++)s in c&&d(u,f,c[s])}else{if(f>=p)throw TypeError(m);d(u,f++,c)}return u.length=f,u}})},bb52:function(t,a,s){},ec80:function(t,a,s){}}]);
//# sourceMappingURL=chunk-63cf140a.2a3d96f9.js.map